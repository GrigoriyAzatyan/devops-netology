## Задача 1: API Gateway

| Критерий  | Центральный шлюз	| Two-tier gateway	| Микрошлюз	| Шлюзы per-pod	| Sidecar, Service Mash |
|-----------|-------------------|-------------------|-----------|---------------|-----------------------|
| Терминация SSL/TLS|   +      |        +          |     +     |       +       |           +           |
| Аутентификация|        +      |        +          |     +     |       +       |           +           |
| Авторизация |        +      |        +          |     -     |       -       |           +           |
| Маршрутизация запросов |      +      |        -          |     +     |       -       |           -           |


| Обзор                |  -   |
|-----------------------|------|
| Центральный шлюз      | Плохо подходит для микросервисной архитектуры, требующей частых изменений. Подходит при монолитной архитектуре |
| Two-tier gateway      | Лучше всего работает в ситуациях, требующих гибкости для рассредоточенных сервисов и независимого масштабирования.  |
| Микрошлюз             | Подходит для отдельных команд разработки, может управлять трафиком между службами. |
| Шлюзы per-pod         | Использует прокси-сервер. Конфигурация статична, не требует модификации при изменении приложения. |
| Sidecar, Service Mash | Сложность в управлении |

Можно применить микрошлюз, т.к. он отвечает всем требованиям и лучше подходит для микросервисной архитектуры, чем центральный шлюз.

## Задача 2: Брокер сообщений

| Критерий | [RabbitMQ](https://www.rabbitmq.com/) | [Apache Kafka](https://kafka.apache.org/) | [Qpid](https://qpid.apache.org/components/cpp-broker/index.html) | [SwiftMQ](https://www.swiftmq.com/)	
|----------|----------|----------|----------|-----------|
| Кластеризации | + | + | + | + |
| Хранение сообщений на диске в процессе доставки | + | + | + | + |
| Cкорость работы | + | + | - | - | 
| Поддержка различных форматов сообщений | + | + | - | - |
| Разделение прав доступа | + | + | + | + | 
| Простота эксплуатации | + | + | - | - |

Я бы выбрал Apache Kafka, который обладает следующими преимуществами:
- позволяет масштабировать  систему до бесконечности;
- может достичь пропускной способности в миллионы сообщений в секунду даже при ограниченных ресурсах;
- сообщения в Kafka не удаляются брокерами по мере их обработки консьюмерами — данные в Kafka могут храниться днями, неделями, годами. Благодаря этому одно и то же сообщение может быть обработано сколько угодно раз разными консьюмерами и в разных контекстах.
- поддерживает ACL;
- гарантирует порядок доставки сообщений.
