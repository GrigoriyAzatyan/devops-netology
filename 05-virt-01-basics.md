# Задача 1  
Вкратце опишите, как вы поняли - в чем основное отличие паравиртуализации и виртуализации на основе ОС.  

**Ответ:**    
При паравиртуализации гостевая ОС знает, что работает в виртуальной среде. Она содержит драйверы, направляющие часть команд непосредственно в ОС хоста. 
Применение паравиртуализации требует модификации кода гостевой ОС на уровне ядра, что позволяет ей общаться с гипервизором на более высоком уровне, обеспечивая более высокое быстродействие. 
Также паравиртуализация работает только при условии, что на хостовой и гостевой машине работают родственные операционные системы.
Считается, что в настоящее время плюсы паравиртуализации практически нивелированы оптимизацией производительности со стороны разработчиков ОС и гипервизоров (паравиртуализация была хороша, но сейчас её плюсы не ощущаются).

# Задача 2  
Выберите тип один из вариантов использования организации физических серверов, в зависимости от условий использования.  

Организация серверов:  
* физические сервера  
* паравиртуализация  
* виртуализация уровня ОС   

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

**Ответы:**  

* **Высоконагруженная база данных, чувствительная к отказу**  - физические сервера. От сервера требуется максимум производительности и максимально быстрый отклик СУБД на все запросы. Отказоустойчивость обеспечивается за счет дублирования серверов. 

* **Различные Java-приложения**  - виртуализация уровня ОС. Однотипные приложения можно разместить в изолированных контейнерах, работающих внутри одной ОС.  

* **Windows системы для использования Бухгалтерским отделом**  - физические сервера или паравиртуализация. Оба варианта имеют право на жизнь. У физического сервера несколько выше производительность, виртуальный легче поддерживать /  резервно копировать / восстанавливать / мигрировать на другой хост.   

* **Системы, выполняющие высокопроизводительные расчеты на GPU**  - физические сервера или паравиртуализация (с сильной разницей по цене). С физическим сервером - максимум производительность от видеокарты, относительная доступность по цене. Паравиртуализация с пробросом видеокарты в гостевые ВМ: скорее всего, производительность будет несколько ниже, дорогие лицензии, подходят не все видеокарты, дополнительная сложность и стоимость работ по развертыванию и настройке.  



# Задача 3  
Как вы думаете, возможно ли совмещать несколько типов виртуализации на одном сервере? Приведите пример такого совмещения.

**Ответ:**  
- Технически таких ограничений нет. Например, можно развернуть на хостовой машине несколько виртуальных, а также развернуть Docker с контейнерами.


# ВОПРОСЫ И ОТВЕТЫ

## 1. “Также паравиртуализация работает только при условии, что на хостовой и гостевой машине работают родственные операционные системы” - почем так?  
**Ответ:**   
- Под словом "родственные" я имел в виду совместимые (например Windows на хосте - Windows на госте, аналогично с Linux). Почему так: системные вызовы ядра Linux гостевой машины не могут выполняться на хосте в Windows, и наоборот. По крайней мере, так нам объяснили в вебинаре, см. минуту 30: https://netology.ru/profile/program/virt-9/lessons/101275/lesson_items/504612

## 2. “Считается, что в настоящее время плюсы паравиртуализации практически нивелированы оптимизацией производительности со стороны разработчиков ОС и гипервизоров (паравиртуализация была хороша, но сейчас её плюсы не ощущаются).” - если не секрет, откуда такая информация?  

**Ответ:**     
Нашел вот такой ресурс: https://datahouse.ru/articles/sistemy-virtualizacii  
* Citrix Xen одно время мог похвастать паравиртуализацией, которая требует модифицировать гостевую операционную систему, что невозможно для закрытых систем типа MS Windows, для более быстрой работы и снижения накладных расходов (overhead) на виртуализацию. Но с той поры прошло много лет, и все игроки на рынке виртуализации и аппаратного обеспечения приблизили работу гостя к производительности схожей «как на голом железе», что нивелирует плюсы паравиртуализации. А контейнеры и вовсе отобрали лавры быстрого гостя для UNIX- и Linux-гостей.  
* Позиции Xen были сильны в прошлом. Многие известные компании типа Amazon строили свою инфраструктуру на Xen, но потом они же и сменили его на KVM. Паравиртуализация была хороша, но сейчас её плюсы не ощущаются. В сухом остатке, Citrix Hypervisor в современных реалиях занял нишу виртуализации с активным использованием 3D, родственной нишей «Рабочее место как услуга» (VDI) и виртуализация приложений (Citrix Virtual Apps and Desktops).  

Наверное, это все же спорное мнение, т.к. большее число источников говорят о выигрыше в производительности со стороны паравиртуализации по отношению к полной виртуализации (хотя и о проигрыше по сравнению с физическим железом). 

## 3. "Что такое виртуализация на уровне ОС? В чем отличие от паравиртуализации?" 
**Ответ:**   
* Виртуализация на уровне операционной системы (контейнерная виртуализация) — метод виртуализации, при котором ядро операционной системы поддерживает несколько изолированных экземпляров пространства пользователя, вместо одного. 
* При виртуализации уровня ОС работает единственная операционная система, которая просто изолирует независимые виртуальные серверы (контейнеры) друг от друга так, как если бы они работали на разных ОС. 
* При паравиртуализации на операционной системе хоста работает гипервизор, который поддерживает работу виртуальных машин, на каждой из которых запущен собственный экзампляр ОС. 
